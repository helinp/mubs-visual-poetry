<!DOCTYPE html>
<html data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Visual Poetry</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="./css/style.css">

    <script src="https://github.com/devongovett/pdfkit/releases/download/v0.10.0/pdfkit.standalone.js"></script>
    <script src="https://github.com/devongovett/blob-stream/releases/download/v0.1.3/blob-stream.js"></script>
</head>

<body>
    <main class="container mt-4">
        <div class="row">
            <div class="col-12 text-center">
                <h1 class="mb-4 neomorphism-text"><span>Mubs' Visual poetry</span></h1>
            </div>
        </div>
        <section class="neomorphism">
            <form>
                <div class="row mb-3">
                    <div class="col-12">
                        <label for="sentence" class="form-label">Entrez votre texte</label>
                        <textarea id="sentence" class="form-control" name="sentence" rows="10"></textarea>
                    </div>
                </div>
                <div class="row mb-3">
                    <div id="choix-extraits">
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-2 mb-3">
                        <label for="circleSizeMax" class="form-label">Taille maximale</label>
                        <input type="number" class="form-control" id="circleSizeMax" name="circleSize" value="10"
                            min="10" max="100">
                    </div>
                    <div class="col-md-2 mb-3">
                        <label for="circleSizeMin" class="form-label">Taille minimale</label>
                        <input type="number" class="form-control" id="circleSizeMin" name="circleSize" value="5" min="1"
                            max="100">
                    </div>
                    <div class="col-md-2 mb-3">
                        <label for="circleSpacing" class="form-label">Espacement</label>
                        <input type="number" class="form-control" id="circleSpacing" name="circleSpacing" value="10"
                            min="-10" max="20">
                    </div>
                    <div class="col-md-2 mb-3">
                        <label for="lineSpacing" class="form-label">Interligne</label>
                        <input type="number" class="form-control" id="lineSpacing" name="lineSpacing" value="0" min="-100"
                            max="100">
                    </div>
                    
                </div>

                <div class="mb-3">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="showSpaces" name="showSpaces">
                        <label class="form-check-label" for="showSpaces">
                            Afficher les espaces
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="isCapSensitive" name="isCapSensitive">
                        <label class="form-check-label" for="isCapSensitive">
                            Sensible à la casse
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="useLineBreaks" name="useLineBreaks">
                        <label class="form-check-label" for="useLineBreaks">
                            Sauter à la ligne
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="ignoreSpecialChars" name="ignoreSpecialChars" checked="checked">
                        <label class="form-check-label" for="ignoreSpecialChars">
                            Ignorer caractères spéciaux
                        </label>
                    </div>

                </div>

                <div class="row">
                    <div class="col-md-2 mb-3">
                        <label for="backgroundColor" class="form-label">Couleur de fond</label>
                        <input type="color" class="form-control form-control-color" id="backgroundColor"
                            name="backgroundColor" value="#ffffff">
                    </div>
                    <div class="col-md-2 mb-3 color-picker">
                        <label for="startColor" class="form-label">Couleur de départ</label>
                        <input type="color" class="form-control form-control-color" id="startColor" name="startColor"
                            value="#ff0000">
                    </div>
                    <div class="col-md-2 mb-3 color-picker">
                        <label for="endColor" class="form-label">Couleur de fin</label>
                        <input type="color" class="form-control form-control-color" id="endColor" name="endColor"
                            value="#0000ff">
                    </div>
                    <div class="col-md-2 mb-3">
                        <label for="gradientType" class="form-label">Dégradé</label>
                        <select class="form-select" id="gradientType" name="gradientType">
                            <option value="hue" selected>HSL</option>
                            <option value="interpolation">Interpolation RGB</option>
                            
                        </select>
                    </div>
                    <div class="col-md-2 mb-3">
                        <label for="circleShape" class="form-label">Forme</label>
                        <select class="form-select" id="circleShape" name="circleShape">
                            <option value="circle" selected>Cercle</option>
                            <option value="ring">Anneau</option>
                            <option value="square" selected>Carré</option>
                            <option value="triangle">Triangle</option>
                            <option value="hexagon">Hexagone</option>
                            <option value="heart">Coeur</option>
                            <option value="random">Aléatoire</option>
                        </select>
                    </div>
                </div>
                <hr />
                <div class="row mt-2">
                    <div class="col-md-2 mb-3">
                        <label for="innerFrameWidth" class="form-label">Largeur max (pt)</label>
                        <input type="number" class="form-control" id="innerFrameWidth" name="innerFrameWidth" value="500"
                            min="0" max="1000">
                    </div>
                </div>
                <div class="row mt-2">
                    <hr />
                    <div class="text-center">
                        <a class="btn btn-outline-primary"
                            id="generateCanvasButton">Générer
                            Canvas</a>
                        <a class="btn btn-outline-secondary" id="generatePdfButton">Générer
                            PDF</a>
                    </div>
                </div>
            </form>

            <div class="row mt-4" id="iframe-div">
                <div class="col-12">
                    <iframe width="100%"></iframe>
                </div>
            </div>

        </section>
    </main>

    <div class="modal modal-lg fade" id="modal-result" tabindex="-1" aria-labelledby="pdfModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" style="overflow-x: auto;">
                    <canvas id="poeticCanvas"></canvas>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fermer</button>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="./js/main.js"></script>
</body>

</html>